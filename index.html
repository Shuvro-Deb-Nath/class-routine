<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
  <meta name="theme-color" content="#2196f3">
  <title>Class Routine</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="y.png" type="image/png" sizes="32x32" />

  <!-- Performance hints -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  
  <!-- Preload critical images -->
  <link rel="preload" as="image" href="UULogo.webp">
  <link rel="preload" as="image" href="y.png">
<link rel="manifest" href="/manifest.json">
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import {
  getFirestore,
  collection,
  getDocs
} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDoJVuE1cZTSRCMKen3DqlInJyZjQFs4UI",
  authDomain: "class-routine-8b46c.firebaseapp.com",
  projectId: "class-routine-8b46c",
  storageBucket: "class-routine-8b46c.firebasestorage.app",
  messagingSenderId: "666402119675",
  appId: "1:666402119675:web:8fdc82c87af8303ed1355e"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.db = db; // allow other scripts to use it
</script>

  <!-- YAML parser -->

</head>
<body>

<div class="hero">
  <div class="hero-top">
    <img src="UULogo.webp" class="logo" alt="Logo" loading="eager" decoding="async">

    <h1 class="title">CSE  60 A Class Routine & Updates</h1>

    <img src="y.png" class="banner" alt="Banner" loading="eager" decoding="async">
  </div>

  <p class="effective"><b>Effective from 19 JANUARY 2026</b></p>
</div>

<div id="noticeBoard"></div>

<div class="table-container"> 
  <div id="countdownStack">
    <div id="classCountdown" class="next-class hidden"></div>
    <div id="assignmentCountdown" class="next-class hidden"></div>
    <div id="examCountdown" class="next-class hidden"></div>
  </div>
  
  <table class="routine-table">
    <thead>
      <tr>
        <th>Day</th>
        <th>08:45 AM ‚Üí 10:05 AM</th>
        <th>10:05 AM ‚Üí 11:25 AM</th>
        <th>11:25 AM ‚Üí 12:45 PM</th>
        <th class="break-header" rowspan="3">BREAK<br>12:45 PM ‚Üí 01:15 PM</th>
        <th>01:15 PM ‚Üí 02:35 PM</th>
        <th>02:35 PM ‚Üí 03:55 PM</th>
      </tr>
    </thead>
    <tbody id="routineBody"></tbody>
  </table>
</div>

<section class="features-info">
  <h2>üìù How This Routine Works</h2>

  <div class="feature-list">
    <div class="feature-item today-demo">
      <span class="feature-badge">üìÖ TODAY</span>
      <p>
        The <b>entire row</b> for <b>today's date</b> is automatically highlighted,
        so you instantly know which day's classes are relevant.
      </p>
    </div>

    <div class="feature-item current-demo">
      <span class="feature-badge">üî¥ LIVE</span>
      <p>
        The <b>currently running class</b> is highlighted in green with a
        <b>LIVE indicator</b>. This updates automatically based on the current time.
      </p>
    </div>

    <div class="feature-item upcoming-demo">
      <span class="feature-badge">‚è∞ NEXT</span>
      <p>
        The <b>next upcoming class</b> after the current one is highlighted in orange,
        helping you prepare in advance.
      </p>
    </div>

    <div class="feature-item auto-demo">
      <span class="feature-badge">‚öôÔ∏è AUTO</span>
      <p>
        All highlights update <b>automatically</b> based on your device's
        <b>date and time</b>. No manual refresh is needed.
      </p>
    </div>
  </div>
</section>


<footer>
  ¬© 2026 | Class Routine | Powered by SHUVRO DEB NATH
  
</footer>
<button id="installBtn" hidden class="install-btn">
  üì≤ Install App
</button>
<script type="module" src="script.js"></script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/service-worker.js");
}
</script>
<script>
let deferredPrompt;
const installBtn = document.getElementById("installBtn");

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.hidden = false;
});

installBtn.addEventListener("click", async () => {
  deferredPrompt.prompt();
  await deferredPrompt.userChoice;
  installBtn.hidden = true;
});
</script>

</body>
</html>
